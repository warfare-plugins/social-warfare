!function(e,t,o){"use strict";function s(e,o,s,n){var a='<div id="color-notice"><p><span class="color-dismiss"></span><b>Note:</b> Custom colors will not show up in the preview, but will on your site.</p></div>',l={customColor:!1,customOutlines:!1};t(o).each(function(e,o){var s=t(o).val();-1!==s.indexOf("custom")&&(s.indexOf("outlines")>0?l.customOutlines=!0:l.customColor=!0)}),l.customColor?s.slideDown():s.slideUp(),l.customOutlines?n.slideDown():n.slideUp(),l.customColor||l.customOutlines?(t("body").append(a),t(".color-dismiss").on("click",function(){t("#color-notice").fadeOut("slow")})):t("#color-notice")&&t(a).fadeOut("slow")}function n(e,t){var o=document.createElement("div"),s=document.createElement("span");s.textContent="Dismiss this notice",s.addEventListener("click",function(e){jQuery(e.target.parentNode).slideUp()}),o.style="background-color: #ced3dc; color: #30394f; padding: 5px 10px; font-size: 16px !important;",o.innerHTML=e,o.appendChild(s),t.appendChild(o)}function a(){var e="<h3><u>Big news</u></h3>";e+="<p>As of June 30th, 2018, StumbleUpon will no longer exist as a sharing platform.<br/>Instead, they are moving in with Mix.</p>",e+="<p>While this is exciting for Mix, <b>share counts will not be transferred, and Mix is not providing a share button or API.</b>",e+='<br/>You can read more about it <a href="http://help.stumbleupon.com/customer/en/portal/articles/2908172-transitioning-from-stumbleupon-to-mix" target="_blank">here</a>.</p>';var t=document.querySelector(".social_networks_description_wrapper");void 0!==t&&n(e,t)}function l(t){var o,s;document.body.createTextRange?(o=document.body.createTextRange(),o.moveToElementText(t),o.select()):e.getSelection&&(s=e.getSelection(),o=document.createRange(),o.selectNodeContents(t),s.removeAllRanges(),s.addRange(o))}function i(){var e={};return t("form.sw-admin-settings-form input, form.sw-admin-settings-form select, form.sw-admin-settings-form textarea").each(function(){var o,s=t(this),n=s.attr("name");o="checkbox"===s.attr("type")?s.prop("checked"):s.val(),e[n]=o}),e.order_of_icons={},t(".sw-active i").each(function(){var o=t(this).data("network");e.order_of_icons[o]=o}),e}function r(){var e=t(".sw-top-menu").offset(),o=t(".sw-top-menu").width();t(".sw-top-menu").css({position:"fixed",left:e.left,top:e.top,width:o}),t(".sw-admin-wrapper").css("padding-top","75px")}function c(){t(".sw-tab-selector").on("click",function(e){e.preventDefault(),t("html, body").animate({scrollTop:0},300);var o=t(this).attr("data-link");t(".sw-admin-tab").hide(),t("#"+o).show(),t(".sw-header-menu li").removeClass("sw-active-tab"),t(this).parents("li").addClass("sw-active-tab"),"swp_styles"===o&&socialWarfarePlugin.activateHoverStates(),swpConditionalFields()})}function u(){t(".sw-checkbox-toggle").on("click",function(){var e=t(this).attr("status"),o=t(this).attr("field");"on"===e?(t(this).attr("status","off"),t(o).prop("checked",!1)):(t(this).attr("status","on"),t(o).prop("checked",!0)),_(),swpConditionalFields()})}function p(){t("form.sw-admin-settings-form input, form.sw-admin-settings-form select").on("change",function(){swpConditionalFields(),socialWarfarePlugin.newOptions=i(),_()}),socialWarfarePlugin.defaultOptions=i()}function _(){socialWarfarePlugin.newOptions=i(),JSON.stringify(socialWarfarePlugin.newOptions)!==JSON.stringify(socialWarfarePlugin.defaultOptions)?t(".sw-save-settings").removeClass("sw-navy-button").addClass("sw-red-button"):t(".sw-save-settings").removeClass("sw-red-button").addClass("sw-navy-button")}function d(){t(".sw-save-settings").on("click",function(e){e.preventDefault?e.preventDefault():e.returnValue=!1,m();var o=i(),s={action:"swp_store_settings",security:swpAdminOptionsData.optionsNonce,settings:o};t.post(ajaxurl,{data:s,success:function(e){f(),socialWarfarePlugin.defaultOptions=i(),_()}})})}function m(){t("body").append('<div class="sw-loading-bg"><div class="sw-loading-message">Saving Changes</div></div>')}function f(){t(".sw-loading-message").html("Success!").removeClass("sw-loading-message").addClass("sw-loading-complete"),t(".sw-loading-bg").delay(1e3).fadeOut(1e3),setTimeout(function(){t(".sw-loading-bg").remove()},2e3)}function w(){var e=(t('select[name="button_shape"]').val(),t('select[name="default_colors"]').val()),o=t('select[name="single_colors"]').val(),s=t('select[name="hover_colors"]').val();t("style.swp_customColorStuff").remove();var n=t('input[name="custom_color"]').val(),a="";"custom_color"!=e&&"custom_color"!=o&&"custom_color"!=s||(a=".swp_social_panel.swp_default_customColor a, html body .swp_social_panel.swp_individual_customColor .nc_tweetContainer:hover a, body .swp_social_panel.swp_other_customColor:hover a {color:white} .swp_social_panel.swp_default_customColor .nc_tweetContainer, html body .swp_social_panel.swp_individual_customColor .nc_tweetContainer:hover, body .swp_social_panel.swp_other_customColor:hover .nc_tweetContainer {background-color:"+n+";border:1px solid "+n+";}"),"custom_color_outlines"!=e&&"custom_color_outlines"!=o&&"custom_color_outlines"!=s||(a=a+" .swp_social_panel.swp_default_custom_color_outlines a, html body .swp_social_panel.swp_individual_custom_color_outlines .nc_tweetContainer:hover a, body .swp_social_panel.swp_other_custom_color_outlines:hover a { color:"+n+"; } .swp_social_panel.swp_default_custom_color_outlines .nc_tweetContainer, html body .swp_social_panel.swp_individual_custom_color_outlines .nc_tweetContainer:hover, body .swp_social_panel.swp_other_custom_color_outlines:hover .nc_tweetContainer { background:transparent; border:1px solid "+n+"; }"),t("head").append('<style type="text/css" class="swp_customColorStuff">'+a+"</style>")}function v(){function e(e){var o=t('select[name="'+e+'"]').val();if(0===o.indexOf("custom")){return e.slice(0,e.indexOf("_"))+"_full_color"}return o}var o=e("button_shape"),s=e("default_colors"),n=e("single_colors"),a=e("hover_colors"),l="swp_"+o+" swp_default_"+s+" swp_individual_"+n+" swp_other_"+a;void 0===socialWarfarePlugin.lastClass&&(socialWarfarePlugin.lastClass="swp_flat_fresh swp_default_full_color swp_individual_full_color swp_other_full_color");var l="swp_"+o+" swp_default_"+s+" swp_individual_"+n+" swp_other_"+a;t(".swp_social_panel").removeClass("swp_other_medium_gray"),t(".swp_social_panel").removeClass(socialWarfarePlugin.lastClass).addClass(l),socialWarfarePlugin.lastClass=l}function g(){var e={full_color:"Full Color",light_gray:"Light Gray",medium_gray:"Medium Gray",dark_gray:"Dark Gray",light_gray_outlines:"Light Gray Outlines",medium_gray_outlines:"Medium Gray Outlines",dark_gray_outlines:"Dark Gray Outlines",color_outlines:"Color Outlines",custom_color:"Custom Color",custom_color_outlines:"Custom Color Outlines"},o={flat_fresh:e,leaf:e,pill:e,three_dee:{full_color:"Full Color",light_gray:"Light Gray",medium_gray:"Medium Gray",dark_gray:"Dark Gray"},connected:e,shift:e,boxed:e};if(0!==t('select[name="button_shape"]').length){var s=t('select[name="button_shape"]').val(),n=t('select[name="default_colors"]').val(),a=t('select[name="single_colors"]').val(),l=t('select[name="hover_colors"]').val();t('select[name="default_colors"] option, select[name="single_colors"] option, select[name="hover_colors"] option').remove(),t.each(o[s],function(e,o){e===n?t('select[name="default_colors"]').append('<option value="'+e+'" selected>'+o+"</option>"):t('select[name="default_colors"]').append('<option value="'+e+'">'+o+"</option>"),e===a?t('select[name="single_colors"]').append('<option value="'+e+'" selected>'+o+"</option>"):t('select[name="single_colors"]').append('<option value="'+e+'">'+o+"</option>"),e===l?t('select[name="hover_colors"]').append('<option value="'+e+'" selected>'+o+"</option>"):t('select[name="hover_colors"]').append('<option value="'+e+'">'+o+"</option>"),"custom_color"==n||"custom_color_outlines"==n||"custom_color"==a||"custom_color_outlines"==a||"custom_color"==l||"custom_color_outlines"==l?(t(".customColor_wrapper").slideDown(),w()):t(".customColor_wrapper").slideUp()}),t('select[name="default_colors"], select[name="single_colors"], select[name="hover_colors"]').on("change",v),t('select[name="button_shape"]').on("change",function(){var e=t('select[name="button_shape"]').val(),s=t('select[name="default_colors"]').val(),n=t('select[name="single_colors"]').val(),a=t('select[name="hover_colors"]').val(),l=0,i=o[e],r=i.hasOwnProperty(s),c=i.hasOwnProperty(n),u=i.hasOwnProperty(a);t('select[name="default_colors"] option, select[name="single_colors"] option, select[name="hover_colors"] option').remove(),t.each(o[e],function(e,o){e===s||0==r&&0==l?t('select[name="default_colors"]').append('<option value="'+e+'" selected>'+o+"</option>"):t('select[name="default_colors"]').append('<option value="'+e+'">'+o+"</option>"),e===n||0==c&&0==l?t('select[name="single_colors"]').append('<option value="'+e+'" selected>'+o+"</option>"):t('select[name="single_colors"]').append('<option value="'+e+'">'+o+"</option>"),e===a||0==u&&0==l?t('select[name="hover_colors"]').append('<option value="'+e+'" selected>'+o+"</option>"):t('select[name="hover_colors"]').append('<option value="'+e+'">'+o+"</option>"),++l}),void 0===socialWarfarePlugin.lastClass&&(socialWarfarePlugin.lastClass="swp_flat_fresh swp_default_full_color swp_individual_full_color swp_other_full_color");var p="swp_"+e+" swp_default_"+s+" swp_individual_"+n+" swp_other_"+a;t(".swp_social_panel").removeClass(socialWarfarePlugin.lastClass).addClass(p),socialWarfarePlugin.lastClass=p})}}function h(){t('select[name="button_size"],select[name="button_alignment"]').on("change",function(){t(".swp_social_panel").css({width:"100%"});var e,o=t(".swp_social_panel").width(),s=t('select[name="button_size"]').val(),n=t('select[name="button_alignment"]').val();"full_width"==n&&1!=s||s>=1?(e=o/s,t(".swp_social_panel").css("cssText","width:"+e+"px!important;"),t(".swp_social_panel").css({transform:"scale("+s+")","transform-origin":"left"})):"full_width"!=n&&s<1&&(e=o/s,t(".swp_social_panel").css({transform:"scale("+s+")","transform-origin":n})),socialWarfarePlugin.activateHoverStates()})}function y(){var e=t('select[name="ctt_theme"]');e.on("change",function(){var e=t('select[name="ctt_theme"]').val();t(".swp_CTT").attr("class","swp_CTT").addClass(e)}),e.trigger("change")}function C(e,o){var s=t(".sw-admin-wrapper");s.attr("swp-addons"),s.attr("swp-registrations");t(".registration-wrapper."+o).attr("registration",e),1===parseInt(e)?(s.attr("sw-registered",e),t(".sw-top-menu").attr("sw-registered",e),x(s,"swp-registrations",o)):b(s,"swp-registrations",o)}function b(e,o,s){var n=t(e).attr(o),a=n.indexOf(s);if(-1!==a){var l=a+s.length,i=n.slice(0,a)+n.slice(l);t(e).attr(o,i)}}function x(e,o,s){var n=t(e).attr(o);n.includes(s)||t(e).attr(o,n+s)}function O(o,s){var n=!1,a={action:"swp_register_plugin",security:swpAdminOptionsData.registerNonce,activity:"register",name_key:o,item_id:s,license_key:t('input[name="'+o+'_license_key"]').val()};return m(),t.post(ajaxurl,a,function(t){t=JSON.parse(t),t.success?(C("1",o),n=!0):alert("Failure: "+t.data),e.location.reload(!0),f()}),n}function k(o,s){var n=!1,a={action:"swp_unregister_plugin",security:swpAdminOptionsData.registerNonce,activity:"unregister",name_key:o,item_id:s};return m(),t.post(ajaxurl,a,function(s){s=JSON.parse(s),s.success?(t('input[name="'+o+'_license_key"]').val(""),C("0",o),n=!0):alert("Failure: "+s.data),e.location.reload(!0),f()}),n}function P(){t(".register-plugin").on("click",function(){return O(t(this).attr("swp-addon"),t(this).attr("swp-item-id")),!1}),t(".unregister-plugin").on("click",function(){return k(t(this).attr("swp-addon"),t(this).attr("swp-item-id")),!1})}function W(){t(".sw-buttons-sort.sw-active").sortable({connectWith:".sw-buttons-sort.sw-inactive",update:function(){_()}}),t(".sw-buttons-sort.sw-inactive").sortable({connectWith:".sw-buttons-sort.sw-active",update:function(){_()}})}function D(){t(".sw-system-status").on("click",function(e){e.preventDefault?e.preventDefault():e.returnValue=!1,t(".system-status-wrapper").slideToggle(),l(t(".system-status-container").get(0))})}function S(){var e;t(".swp_upload_image_button").click(function(o){o.preventDefault();var s=t(this).attr("for");if(e)return void e.open();e=wp.media.frames.file_frame=wp.media({title:"Choose Image",button:{text:"Choose Image"},multiple:!1}),e.on("select",function(){var o=e.state().get("selection").first().toJSON();t('input[name="'+s+'"').val(o.url)}),e.open()})}function T(){var e=t("#ctt_preview"),o=t("select[name=ctt_theme]");e.length||(e=t('<style id="ctt_preview"></style>'),t("head").append(e)),"none"===t(o).val()&&N(),t(o).on("change",function(e){"none"===e.target.value&&N()}),t("textarea[name=ctt_css]").on("keyup",N)}function N(){var e=t("#ctt_preview"),o=t("textarea[name=ctt_css]");t(e).text(t(o).val())}e.onload=function(){var e="[name=default_colors],[name=hover_colors], [name=single_colors]",o="[name=float_default_colors], [name=float_hover_colors], [name=float_single_colors]";t("[name=custom_color],[name=custom_color_outlines],[name=float_custom_color],[name=float_custom_color_outlines]").parent().parent().hide(),t(e).each(function(e,o){var s=t(o).val(),n=t("[name=custom_color]").parent().parent(),a=t("[name=custom_color_outlines]").parent().parent();-1!==s.indexOf("custom")&&(s.indexOf("outlines")>0?a.show():n.show())}),t(o).each(function(e,o){var s=t(o).val(),n=t("[name=float_custom_color]").parent().parent(),a=t("[name=float_custom_color_outlines]").parent().parent();-1!==s.indexOf("custom")&&(s.indexOf("outlines")>0?a.show():n.show())}),t(e).on("change",function(o){var n=(o.target.value,t("[name=custom_color]").parent().parent()),a=t("[name=custom_color_outlines]").parent().parent();s(o,e,n,a)}),t(o).on("change",function(e){var n=(e.target.value,t("[name=float_custom_color]").parent().parent()),a=t("[name=float_custom_color_outlines]").parent().parent();n.hide(),a.hide(),s(e,o,n,a)})},t(document).ready(function(){d(),p(),r(),c(),u(),g(),swpConditionalFields(),y(),h(),P(),W(),D(),S(),T(),a()})}(this,jQuery);