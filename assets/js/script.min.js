window.socialWarfare=window.socialWarfare||{},function(a,e){"use strict";var e=jQuery;e(document).ready(function(){socialWarfare.initPlugin()}),socialWarfare.paddingTop=parseInt(e("body").css("padding-top").replace("px","")),socialWarfare.paddingBottom=parseInt(e("body").css("padding-bottom").replace("px","")),socialWarfare.initPlugin=function(){socialWarfare.establishPanels(),socialWarfare.establishBreakpoint(),(socialWarfare.panels.staticHorizontal||socialWarfare.panels.side||socialWarfare.panels.floatingHorizontal)&&(socialWarfare.createFloatHorizontalPanel(),socialWarfare.positionFloatSidePanel(),socialWarfare.activateHoverStates(),socialWarfare.handleButtonClicks(),socialWarfare.toggleFloatingButtons(),setTimeout(socialWarfare.checkListeners(0,5),2e3),e(a).scroll(socialWarfare.throttle(50,socialWarfare.toggleFloatingButtons)))},socialWarfare.establishPanels=function(){socialWarfare.panels={staticHorizontal:null,floatingSide:null,floatingHorizontal:null};var a=e(".swp_social_panel").not(".swp_social_panelSide"),t=e(".swp_social_panelSide");return a&&(socialWarfare.panels.staticHorizontal=a),t&&(socialWarfare.panels.floatingSide=t),socialWarfare.panels},socialWarfare.activateHoverStates=function(){socialWarfare.trigger("pre_activate_buttons"),e(".swp_social_panel:not(.swp_social_panelSide) .nc_tweetContainer").on("mouseenter",function(){if(!e(this).hasClass("swp_nohover")){socialWarfare.resetStaticPanel();var a=e(this).find(".swp_share").outerWidth(),t=e(this).find("i.sw").outerWidth(),i=e(this).width(),o=1+(a+35)/i;e(this).find(".iconFiller").width(a+t+25+"px"),e(this).css("flex",o+" 1 0%")}}),e(".swp_social_panel:not(.swp_social_panelSide)").on("mouseleave",socialWarfare.resetStaticPanel)},socialWarfare.resetStaticPanel=function(){e(".swp_social_panel:not(.swp_social_panelSide) .nc_tweetContainer:not(.swp_nohover) .iconFiller").removeAttr("style"),e(".swp_social_panel:not(.swp_social_panelSide) .nc_tweetContainer:not(.swp_nohover)").removeAttr("style")},socialWarfare.handleButtonClicks=function(){e(".nc_tweet, a.swp_CTT").off("click"),e(".nc_tweet, a.swp_CTT").on("click",function(t){if(e(this).hasClass("noPop"))return!1;if(0==e(this).data("link"))return!1;t.preventDefault();var i,o,s,r,n,l,c=e(this).data("link").replace("â€™","'");i=270,o=500,e(this).is(".pinterest, .buffer_link, .flipboard")&&(i=550,o=775),s=a.screenY+(a.innerHeight-i)/2,r=a.screenX+(a.innerWidth-o)/2,n="height="+i+",width="+o+",top="+s+",left="+r,a.open(c,"_blank",n),e(this).hasClass("nc_tweet")?l=e(this).parents(".nc_tweetContainer").data("network"):e(this).hasClass("swp_CTT")&&(l="ctt"),socialWarfare.trackClick(l)})},socialWarfare.createFloatHorizontalPanel=function(){if(socialWarfare.panels.staticHorizontal&&socialWarfare.panels.staticHorizontal.length){var a=socialWarfare.panels.staticHorizontal.data("float"),t=socialWarfare.panels.staticHorizontal.data("float-mobile"),i=socialWarfare.panels.staticHorizontal.data("float-color"),o="center"==socialWarfare.panels.staticHorizontal.data("align")?0:socialWarfare.panels.staticHorizontal.offset().left,s=e('<div class="nc_wrapper" style="background-color:'+i+'"></div>'),r="";e(".nc_wrapper").length&&e(".nc_wrapper").remove(),"top"!=a&&"bottom"!=a&&"top"!=t&&"bottom"!=t||(socialWarfare.isMobile()||"top"==a||"bottom"==a)&&(r=socialWarfare.isMobile()?t:a,s.addClass(r).hide().appendTo("body"),socialWarfare.panels.floatingHorizontal=socialWarfare.panels.staticHorizontal.first().clone(),socialWarfare.panels.floatingHorizontal.addClass("nc_floater").css({width:socialWarfare.panels.staticHorizontal.outerWidth(!0),left:o}).appendTo(s),e(".swp_social_panel .swp_count").css({transition:"padding .1s linear"}))}},socialWarfare.staticPanelIsVisible=function(){var t=!1,i=e(a).scrollTop();return e(".swp_social_panel").not(".swp_social_panelSide, .nc_floater").each(function(o){var s=e(this).offset();if("undefined"!=typeof swpFloatBeforeContent&&!1===swpFloatBeforeContent){var r=jQuery(".swp-content-locator").parent();0===o&&r.length&&r.offset().top>i+jQuery(a).height()&&(t=!0)}s.top+e(this).height()>i&&s.top<i+e(a).height()&&(t=!0)}),t},socialWarfare.toggleFloatingButtons=function(){var a=socialWarfare.panels.staticHorizontal.data("float");if("none"==a)return e(".nc_wrapper, .swp_social_panelSide").hide();socialWarfare.isMobile()&&(socialWarfare.createFloatHorizontalPanel(),socialWarfare.toggleMobileButtons(),socialWarfare.toggleFloatingHorizontalPanel()),"right"!=a&&"left"!=a||socialWarfare.toggleFloatingVerticalPanel(),"bottom"!=a&&"top"!=a||socialWarfare.toggleFloatingHorizontalPanel()},socialWarfare.toggleMobileButtons=function(){socialWarfare.panels.side.hide();var a=socialWarfare.staticPanelIsVisible()?"collapse":"visible";e(".nc_wrapper").css("visibility",a)},socialWarfare.toggleFloatingVerticalPanel=function(){var a,e,t,i;if(t=socialWarfare.panels.side.data("float"),i=socialWarfare.staticPanelIsVisible(),socialWarfare.isMobile())return socialWarfare.panels.side.hide();socialWarfare.panels.side&&socialWarfare.panels.side.length||(i=!!socialWarfare.isMobile()),"slide"==socialWarfare.panels.side.data("transition")?(a=-1!==t.indexOf("left")?"left":"right",e=i?"-150px":"5px",socialWarfare.panels.side.css(a,e)):i?socialWarfare.panels.side.css("opacity",1).fadeOut(300).css("opacity",0):socialWarfare.panels.side.css("opacity",0).fadeIn(300).css("display","flex").css("opacity",1)},socialWarfare.toggleFloatingHorizontalPanel=function(){var t=e(".swp_social_panel").first(),i="",o=0;i=socialWarfare.isMobile()?e(t).data("float-mobile"):e(t).data("float"),socialWarfare.staticPanelIsVisible()?(e(".nc_wrapper").hide(),o="bottom"==i?socialWarfare.paddingBottom:socialWarfare.paddingTop):(e(".nc_wrapper").show(),e(".swp_social_panel.nc_floater").css("opacity",1),"bottom"==i?o=socialWarfare.paddingBottom+50:t.offset().top>e(a).scrollTop()+e(a).height()&&(o=socialWarfare.paddingTop+50,e("body").animate({"padding-top":o+"px"},0))),e("body").animate({paddingProp:o},0)},socialWarfare.positionFloatSidePanel=function(){var e,t,i,o=socialWarfare.panels.side;if(o&&o.length&&!o.hasClass("swp_side_top")&&!o.hasClass("swp_side_bottom")){if(e=o.outerHeight(),t=a.innerHeight,e>t)return o.css("top",0);i=(t-e)/2,o.css("top",i)}},e(a).on("load",function(){"undefined"!=typeof swpPinIt&&swpPinIt.enabled&&socialWarfare.enablePinterestSaveButtons(),a.clearCheckID=0}),socialWarfare.enablePinterestSaveButtons=function(){var t=socialWarfare.findPinterestBrowserSaveButtons();void 0!==t&&t&&socialWarfare.removePinterestBrowserSaveButtons(t),e(".swp-content-locator").parent().find("img").each(socialWarfare.renderPinterestSaveButton),e(".sw-pinit .sw-pinit-button").on("click",function(){a.open(e(this).attr("href"),"Pinterest","width=632,height=253,status=0,toolbar=0,menubar=0,location=1,scrollbars=1"),socialWarfare.trackClick("pin_image")})},socialWarfare.renderPinterestSaveButton=function(){var a,t,i,o;if(a=e(this),!(void 0!=typeof swpPinIt.disableOnAnchors&&swpPinIt.disableOnAnchors&&jQuery(a).parents().filter("a").length||a.outerHeight()<swpPinIt.minHeight||a.outerWidth()<swpPinIt.minWidth||a.hasClass("no_pin")||a.hasClass("no-pin"))){if(void 0!==swpPinIt.image_source){var s=new Image;s.src=swpPinIt.image_source,t=jQuery(s).prop("src")}else a.data("media")?t=a.data("media"):e(this).data("lazy-src")?t=e(this).data("lazy-src"):a[0].src&&(t=a[0].src);t&&void 0!==t&&(void 0!==a.data("pin-description")?i=a.data("pin-description"):void 0!==swpPinIt.image_description?i=swpPinIt.image_description:a.attr("title")?i=a.attr("title"):a.attr("alt")&&(i=a.attr("alt")),share_link="http://pinterest.com/pin/create/bookmarklet/?media="+encodeURI(t)+"&url="+encodeURI(document.URL)+"&is_video=false&description="+encodeURIComponent(i),o=a.attr("class"),imageStyles=a.attr("style"),a.removeClass().attr("style","").wrap('<div class="sw-pinit" />'),a.after('<a href="'+share_link+'" class="sw-pinit-button sw-pinit-'+swpPinIt.vLocation+" sw-pinit-"+swpPinIt.hLocation+'">Save</a>'),a.parent(".sw-pinit").addClass(o).attr("style",imageStyles))}},socialWarfare.findPinterestBrowserSaveButtons=function(){var e,t,i,o,s;return e="rgb(189, 8, 28)",t="8675309",i="14px 14px",o=null,document.querySelectorAll("span").forEach(function(r,n){s=a.getComputedStyle(r),s.backgroundColor==e&&s.backgroundSize==i&&s.zIndex==t&&(o=r)}),o},socialWarfare.removePinterestBrowserSaveButtons=function(e){var t,i,o;t=e.nextSibling,void 0!==t&&"SPAN"==t.nodeName&&(i=a.getComputedStyle(t),o="24px",0===i.width.indexOf(o)&&0===i.height.indexOf(o)&&t.remove()),e.remove()},socialWarfare.fetchFacebookShares=function(){var a="https://graph.facebook.com/?fields=og_object{likes.summary(true).limit(0)},share&id="+swp_post_url,t=swp_post_recovery_url?"https://graph.facebook.com/?fields=og_object{likes.summary(true).limit(0)},share&id="+swp_post_recovery_url:"";e.when(e.get(a),e.get(t)).then(function(a,t){var i,o;i=socialWarfare.parseFacebookShares(a[0]),swp_post_recovery_url&&(i+=socialWarfare.parseFacebookShares(t[0]));var o={action:"swp_facebook_shares_update",post_id:swp_post_id,share_counts:i};e.post(swp_admin_ajax,o)})},socialWarfare.parseFacebookShares=function(a){var e=0;return void 0!==a.share&&(e+=parseInt(a.share.share_count),e+=parseInt(a.share.comment_count)),void 0!==a.og_object&&(e+=parseInt(a.og_object.likes.summary.total_count)),e},socialWarfare.throttle=function(a,e){function t(){function t(){o=+new Date,e.apply(s,n)}var s=this,r=+new Date-o,n=arguments;i&&clearTimeout(i),r>a?t():i=setTimeout(t,a-r)}var i=0,o=0;return socialWarfare.guid&&(t.guid=e.guid=e.guid||socialWarfareguid++),t},socialWarfare.trigger=function(t){e(a).trigger(e.Event(t))},socialWarfare.trackClick=function(a){!0===swpClickTracking&&("function"==typeof ga&&ga("send","event","social_media","swp_"+a+"_share"),"object"==typeof dataLayer&&dataLayer.push({event:"swp_"+a+"_share"}))},socialWarfare.checkListeners=function(a,t){if(!(a>t)){var i=e(".swp_social_panel");if(i.length>0&&i.find(".swp_pinterest"))return void socialWarfare.handleButtonClicks();setTimeout(function(){socialWarfare.checkListeners(++a,t)},2e3)}},socialWarfare.establishBreakpoint=function(){var a=e(".swp_social_panel");socialWarfare.breakpoint=1100,(a.length&&a.data("min-width")||0==a.data("min-width"))&&(socialWarfare.breakpoint=parseInt(a.data("min-width")))},socialWarfare.isMobile=function(){return e(a).width()<socialWarfare.breakpoint}}(this,jQuery);